<!DOCTYPE html>
<html>
<head>
  <title>Stopwatch</title>
  <style>
    body {
      background-color: #000;
      overflow: hidden;
    }

    .container {
      text-align: center;
      color: #fff;
      position: relative;
      z-index: 1;
      margin-top: 100px;
    }

    .btn {
      padding: 10px 20px;
      margin: 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Stopwatch</h1>
    <p id="time">00:00:00.000</p>
    <p id="date"></p>
    <button id="startBtn" class="btn">Start</button>
  </div>

  <script>
    // Mendapatkan elemen tombol
    var startBtn = document.getElementById("startBtn");

    // Mendapatkan elemen waktu
    var time = document.getElementById("time");
    var date = document.getElementById("date");

    // Deklarasi variabel
    var startTime;
    var timer;

    // Mendapatkan waktu mulai dari Local Storage (jika ada)
    var storedStartTime = localStorage.getItem("startTime");

    // Cek apakah waktu mulai telah disimpan di Local Storage
    if (storedStartTime) {
      startBtn.style.display = "none"; // Sembunyikan tombol Start
      startTime = parseInt(storedStartTime, 10);
      startTimer(startTime);
    } else {
      // Simpan waktu mulai saat ini di Local Storage
      startTime = new Date().getTime();
      localStorage.setItem("startTime", startTime.toString());
    }

    // Event listener untuk tombol Start
    startBtn.addEventListener("click", function() {
      // Cek jika stopwatch sudah berjalan
      if (timer) {
        return;
      }

      // Mulai stopwatch
      startTimer(startTime);

      // Sembunyikan tombol Start setelah ditekan
      startBtn.style.display = "none";
    });

    // Fungsi untuk memulai stopwatch dengan waktu mulai yang diberikan
    function startTimer(startTime) {
      // Perbarui waktu setiap milidetik
      timer = setInterval(function() {
        var currentTime = new Date().getTime();
        var elapsedTime = currentTime - startTime;
        var milliseconds = elapsedTime % 1000;
        var seconds = Math.floor((elapsedTime / 1000) % 60);
        var minutes = Math.floor((elapsedTime / (1000 * 60)) % 60);
        var hours = Math.floor((elapsedTime / (1000 * 60 * 60)) % 24);
        var days = Math.floor(elapsedTime / (1000 * 60 * 60 * 24));
        var years = Math.floor(days / 365);

        // Format waktu dalam format HH:MM:SS.mmm
        var formattedTime = formatTime(hours) + ":" + formatTime(minutes) + ":" + formatTime(seconds) + "." + formatMilliseconds(milliseconds);

        // Tampilkan waktu
        time.textContent = formattedTime;

        // Tampilkan tahun dan hari
        date.textContent = "Years: " + years + ", Days: " + days;
      }, 1);
    }

    // Fungsi untuk memformat waktu menjadi dua digit (misalnya 01, 02, 10, dst.)
    function formatTime(time) {
      return time < 10 ? "0" + time : time;
    }

    // Fungsi untuk memformat milidetik menjadi tiga digit (misalnya 001, 023, 456, dst.)
    function formatMilliseconds(milliseconds) {
      return milliseconds < 10 ? "00" + milliseconds : milliseconds < 100 ? "0" + milliseconds : milliseconds;
    }
  </script>
</body>
</html>
